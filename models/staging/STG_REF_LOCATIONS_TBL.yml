version: 2

models:
  - name: STG_REF_LOCATIONS_TBL
    description: >
      Staging model for location reference data. Combines core location details from
      `AUTOWASHLOCATION__C` with hierarchy attributes from `LOCATION_HIERARCHY`.
      Materialized as an incremental table based on the `LAST_MODIFIED_DATETIME`.

    config:
      tags: ['staging']
    
    columns:
      - name: LOCATION_ID
        description: Unique identifier for each location.
        tests:
          - not_null
          - unique

      - name: TENANT_ID
        description: External identifier for the tenant to which the location belongs.
        tests:
          - not_null

      - name: LOCATION_NAME
        description: Human-readable name of the location.

      - name: LOCATION_INTERNAL_NAME
        description: Internal system name used for identifying the location.

      - name: LOCATION_IS_FRANCHISE
        description: Boolean flag indicating if the location is a franchise.

      - name: TEST_LOCATION
        description: Boolean flag indicating if the location is a test/demo location.

      - name: LOCATION_CODE
        description: Short internal code used for location identification.

      - name: LOCATION_STREET1
        description: Primary street address of the location.

      - name: LOCATION_STREET2
        description: Secondary address line, if available.

      - name: LOCATION_CITY
        description: City where the location is situated.

      - name: LOCATION_STATE
        description: State or region of the location.

      - name: LOCATION_ZIP_CODE
        description: Postal ZIP code of the location.

      - name: LOCATION_IMAGE_URL
        description: Image URL or visual representation of the location.

      - name: LOCATION_CREATED_DATETIME
        description: Timestamp when the location record was first created.

      - name: LAST_MODIFIED_DATETIME
        description: Timestamp of the most recent update to the location record.

      - name: ROW_LEVEL_SECURITY_ID
        description: Identifier used for enforcing row-level security by tenant or hierarchy.
